{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vemul\\\\OneDrive\\\\Documents\\\\WEB DEV\\\\loginargps\\\\frontend\\\\src\\\\components\\\\ReservationPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport './ReservationPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReservationPage = () => {\n  _s();\n  const {\n    state\n  } = useLocation();\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [vehicleNumber, setVehicleNumber] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [paymentProcessing, setPaymentProcessing] = useState(false);\n  let reservationAttempted = false; // Prevent duplicate reservations\n\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) {\n          navigate('/login');\n          return;\n        }\n        const response = await axios.get('http://localhost:5000/routes/profile', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setUser(response.data.user);\n      } catch (error) {\n        console.error('Error fetching user profile:', error);\n        setError('Failed to fetch user profile. Please try again.');\n        navigate('/login');\n      }\n    };\n    fetchUserProfile();\n  }, [navigate]);\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = 'https://checkout.razorpay.com/v1/checkout.js';\n    script.async = true;\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n  if (!state || !state.slot || !state.location) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading slot details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n  const {\n    slot,\n    location\n  } = state;\n  const handlePayment = async () => {\n    try {\n      setPaymentProcessing(true);\n      setError('');\n      reservationAttempted = false; // Reset flag before payment attempt\n\n      const response = await axios.post('http://localhost:5000/routes/payment', {\n        amount: 3000\n      });\n      const {\n        order_id\n      } = response.data;\n      const options = {\n        key: 'rzp_test_LvN2Or4O5JP9tu',\n        amount: 3000,\n        currency: 'INR',\n        name: 'Parking Reservation',\n        description: `Payment for slot ${slot.name}`,\n        order_id,\n        handler: async response => {\n          if (!reservationAttempted) {\n            reservationAttempted = true;\n            await handleSubmit(response.razorpay_payment_id, true);\n          }\n        },\n        prefill: {\n          name: user.name,\n          email: user.email\n        },\n        theme: {\n          color: '#3399cc'\n        }\n      };\n      const rzp = new window.Razorpay(options);\n      rzp.on('payment.failed', function (response) {\n        console.error('Payment failed:', response.error);\n        setError('Payment failed. You can try again or proceed without payment.');\n        if (!reservationAttempted) {\n          reservationAttempted = true;\n          handleSubmit(null, false);\n        }\n      });\n      rzp.open();\n    } catch (error) {\n      console.error('Error initiating payment:', error);\n      setError('Payment initiation failed. Please try again.');\n    } finally {\n      setPaymentProcessing(false);\n    }\n  };\n  const handleSubmit = async (paymentId, paymentSuccess) => {\n    if (!vehicleNumber) {\n      setError('Please select a vehicle.');\n      return;\n    }\n    setIsLoading(true);\n    setError('');\n    try {\n      const reservationData = {\n        user_id: user.id,\n        slot: {\n          slot_id: slot.id,\n          area_id: location.id\n        },\n        location: location.name,\n        vehicleNumber,\n        paymentId,\n        status: paymentSuccess ? 1 : 0 // 1 for success, 0 for failure\n      };\n      const response = await axios.post('http://localhost:5000/api/reservations/reserve', reservationData);\n      if (response.status === 201) {\n        alert(paymentSuccess ? 'Reservation and payment successful!' : 'Reservation stored, payment failed.');\n\n        // Redirect to ActiveBookingPage after successful payment\n        if (paymentSuccess) {\n          navigate('/dashboard');\n        } else {\n          navigate('/dashboard');\n        }\n      } else {\n        setError('Failed to store reservation in the database.');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error during reservation:', error);\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Error during reservation. Please try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservation-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Reserve Slot \", slot.name, \" at \", location.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reservation-box\",\n      children: [user ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 16\n          }, this), \" \", user.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 16\n          }, this), \" \", user.email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading user data...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slot-location-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Slot Location:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 14\n          }, this), \" \", location.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Slot Number:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 14\n          }, this), \" \", slot.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"vehicleNumber\",\n          children: \"Select Vehicle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"vehicleNumber\",\n          value: vehicleNumber,\n          onChange: e => setVehicleNumber(e.target.value),\n          disabled: isLoading || paymentProcessing,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"--Select Vehicle--\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), user.VehicleNumber1 && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: user.VehicleNumber1,\n            children: user.VehicleNumber1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 39\n          }, this), user.VehicleNumber2 && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: user.VehicleNumber2,\n            children: user.VehicleNumber2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 39\n          }, this), user.VehicleNumber3 && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: user.VehicleNumber3,\n            children: user.VehicleNumber3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePayment,\n        disabled: isLoading || paymentProcessing,\n        children: paymentProcessing ? 'Processing Payment...' : 'Pay and Reserve'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(ReservationPage, \"4sVHgMyR/ToWjPTe7uPPLYhNwcU=\", false, function () {\n  return [useLocation, useNavigate];\n});\n_c = ReservationPage;\nexport default ReservationPage;\nvar _c;\n$RefreshReg$(_c, \"ReservationPage\");","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","axios","jsxDEV","_jsxDEV","ReservationPage","_s","state","navigate","user","setUser","vehicleNumber","setVehicleNumber","isLoading","setIsLoading","error","setError","paymentProcessing","setPaymentProcessing","reservationAttempted","fetchUserProfile","token","localStorage","getItem","response","get","headers","Authorization","data","console","script","document","createElement","src","async","body","appendChild","removeChild","slot","location","children","fileName","_jsxFileName","lineNumber","columnNumber","handlePayment","post","amount","order_id","options","key","currency","name","description","handler","handleSubmit","razorpay_payment_id","prefill","email","theme","color","rzp","window","Razorpay","on","open","paymentId","paymentSuccess","reservationData","user_id","id","slot_id","area_id","status","alert","_error$response","_error$response$data","className","htmlFor","value","onChange","e","target","disabled","VehicleNumber1","VehicleNumber2","VehicleNumber3","onClick","_c","$RefreshReg$"],"sources":["C:/Users/vemul/OneDrive/Documents/WEB DEV/loginargps/frontend/src/components/ReservationPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './ReservationPage.css';\r\n\r\nconst ReservationPage = () => {\r\n  const { state } = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const [user, setUser] = useState(null);\r\n  const [vehicleNumber, setVehicleNumber] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [paymentProcessing, setPaymentProcessing] = useState(false);\r\n  let reservationAttempted = false; // Prevent duplicate reservations\r\n\r\n  useEffect(() => {\r\n    const fetchUserProfile = async () => {\r\n      try {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n          navigate('/login');\r\n          return;\r\n        }\r\n\r\n        const response = await axios.get('http://localhost:5000/routes/profile', {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setUser(response.data.user);\r\n      } catch (error) {\r\n        console.error('Error fetching user profile:', error);\r\n        setError('Failed to fetch user profile. Please try again.');\r\n        navigate('/login');\r\n      }\r\n    };\r\n\r\n    fetchUserProfile();\r\n  }, [navigate]);\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://checkout.razorpay.com/v1/checkout.js';\r\n    script.async = true;\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      document.body.removeChild(script);\r\n    };\r\n  }, []);\r\n\r\n  if (!state || !state.slot || !state.location) {\r\n    return <div>Loading slot details...</div>;\r\n  }\r\n\r\n  const { slot, location } = state;\r\n\r\n  const handlePayment = async () => {\r\n    try {\r\n      setPaymentProcessing(true);\r\n      setError('');\r\n      reservationAttempted = false; // Reset flag before payment attempt\r\n\r\n      const response = await axios.post('http://localhost:5000/routes/payment', {\r\n        amount: 3000,\r\n      });\r\n\r\n      const { order_id } = response.data;\r\n\r\n      const options = {\r\n        key: 'rzp_test_LvN2Or4O5JP9tu',\r\n        amount: 3000,\r\n        currency: 'INR',\r\n        name: 'Parking Reservation',\r\n        description: `Payment for slot ${slot.name}`,\r\n        order_id,\r\n        handler: async (response) => {\r\n          if (!reservationAttempted) {\r\n            reservationAttempted = true;\r\n            await handleSubmit(response.razorpay_payment_id, true);\r\n          }\r\n        },\r\n        prefill: {\r\n          name: user.name,\r\n          email: user.email,\r\n        },\r\n        theme: { color: '#3399cc' },\r\n      };\r\n\r\n      const rzp = new window.Razorpay(options);\r\n\r\n      rzp.on('payment.failed', function (response) {\r\n        console.error('Payment failed:', response.error);\r\n        setError('Payment failed. You can try again or proceed without payment.');\r\n\r\n        if (!reservationAttempted) {\r\n          reservationAttempted = true;\r\n          handleSubmit(null, false);\r\n        }\r\n      });\r\n\r\n      rzp.open();\r\n    } catch (error) {\r\n      console.error('Error initiating payment:', error);\r\n      setError('Payment initiation failed. Please try again.');\r\n    } finally {\r\n      setPaymentProcessing(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (paymentId, paymentSuccess) => {\r\n    if (!vehicleNumber) {\r\n      setError('Please select a vehicle.');\r\n      return;\r\n    }\r\n\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const reservationData = {\r\n        user_id: user.id,\r\n        slot: {\r\n          slot_id: slot.id,\r\n          area_id: location.id,\r\n        },\r\n        location: location.name,\r\n        vehicleNumber,\r\n        paymentId,\r\n        status: paymentSuccess ? 1 : 0, // 1 for success, 0 for failure\r\n      };\r\n\r\n      const response = await axios.post(\r\n        'http://localhost:5000/api/reservations/reserve',\r\n        reservationData\r\n      );\r\n\r\n      if (response.status === 201) {\r\n        alert(paymentSuccess ? 'Reservation and payment successful!' : 'Reservation stored, payment failed.');\r\n        \r\n        // Redirect to ActiveBookingPage after successful payment\r\n        if (paymentSuccess) {\r\n          navigate('/dashboard');\r\n        } else {\r\n          navigate('/dashboard');\r\n        }\r\n      } else {\r\n        setError('Failed to store reservation in the database.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error during reservation:', error);\r\n      setError(error.response?.data?.error || 'Error during reservation. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"reservation-page\">\r\n      <h2>Reserve Slot {slot.name} at {location.name}</h2>\r\n      <div className=\"reservation-box\">\r\n        {user ? (\r\n          <div className=\"user-info\">\r\n            <p><strong>Name:</strong> {user.name}</p>\r\n            <p><strong>Email:</strong> {user.email}</p>\r\n          </div>\r\n        ) : (\r\n          <div>Loading user data...</div>\r\n        )}\r\n\r\n        <div className=\"slot-location-info\">\r\n          <p><strong>Slot Location:</strong> {location.name}</p>\r\n          <p><strong>Slot Number:</strong> {slot.name}</p>\r\n        </div>\r\n\r\n        {user && (\r\n          <div>\r\n            <label htmlFor=\"vehicleNumber\">Select Vehicle</label>\r\n            <select\r\n              id=\"vehicleNumber\"\r\n              value={vehicleNumber}\r\n              onChange={(e) => setVehicleNumber(e.target.value)}\r\n              disabled={isLoading || paymentProcessing}\r\n            >\r\n              <option value=\"\">--Select Vehicle--</option>\r\n              {user.VehicleNumber1 && <option value={user.VehicleNumber1}>{user.VehicleNumber1}</option>}\r\n              {user.VehicleNumber2 && <option value={user.VehicleNumber2}>{user.VehicleNumber2}</option>}\r\n              {user.VehicleNumber3 && <option value={user.VehicleNumber3}>{user.VehicleNumber3}</option>}\r\n            </select>\r\n          </div>\r\n        )}\r\n\r\n        {error && <div className=\"error-message\">{error}</div>}\r\n\r\n        <button onClick={handlePayment} disabled={isLoading || paymentProcessing}>\r\n          {paymentProcessing ? 'Processing Payment...' : 'Pay and Reserve'}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReservationPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}